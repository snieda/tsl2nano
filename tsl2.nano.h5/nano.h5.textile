*FullRelation H5*
<font size="-1">Autor: Thomas Schneider 2012</font>

{toc}

h2. Introduction

generic html5 gui implementation, bound to swartfix-common bean-package.

*Goals:* 
* pure model implementation + plattform independency (works on android, too).
* everything has a default - all defaults are configurable
* full configurable (including standard bean behaviour and all entity behaviours)
* implementation through simple java beans + optional bean presenters
* navigates through given beans showing bean-lists and bean-detail dialogs.
* prefills formatting, validation and presentation of relations
* pure html-5 (no javascript)
* data replication to work offline (not finished yet!)
* full key-navigation (shortcuts)
* interfaces: 
** ddl-->beans through hibernate-tools
** jpa-->bean through annotation evaluation
** xsd-->bean (not finished yet!)
** java-interface-->java-bean (mock through internal proxy, not finished yet!)

Using the NanoHTTPD Server as base, this client application creates html surfaces, sending them through the integrated server to a html browser. Entry point is the file _application.html_ defining the browser request _http://localhost:8067_.

It is not a real web-application platform but a simple way to use html5 as graphical user interface - in a standard client application.

The data access is done by:
* tsl2nano.serviceaccess
* tsl2nano.directaccess

It is possible to use a ejb container in an application server, but the default is set to use jpa directly on the client (using _tsl2nano.directaccess_).
h3. Third Party Libraries

* "Jing-Trang xml2xsd-Generator":https://code.google.com/p/jing-trang/downloads/list
* "SimpleXML xml serializer":http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php

h2. Starting / Test

Start the main method of class _Application_. Two entry-points are given:
* _createGenericNavigationModel(String beanjar)_ is able to read a given jar file for serializable classes to be used as entities to browse.
* a simple test implementation is provided (see _Application.createTestNavigationModel()_).

h2. Developing and Deploying

* "Code Server":https://sourceforge.net/p/tsl2nano/code/ci/master/tree/tsl2.nano.common

If you change sources of this plugin, you should start ant script _eclipse-tsl2.nano.h5.xml_ with target _tsl2nano.eclipse.h5.export_ and after that the 'deploy' target of your main project.

Normally, you don't have to create html-pages by yourself, but if you are interested in html5, have a look at the following tutorials/references:
* "W3C-Html5-Reference":http://www.w3.org/TR/2013/NOTE-html-markup-20130528/Overview.html
* "Html-5.com":http://www.html-5.com/index.html
* "Webkompetenz":http://webkompetenz.wikidot.com/docs:html-handbuch
* "Html5 Poster":http://www.xhtml-lab.com

h2. Changelog

| Version | Date | Description |
| 0.0.1 | 06.07.2013 | First alpha Version

h2. TODOs

* (v) BeanCollector.createItem() --> replace common BeanUtils call to be able to run on android
* (v) main arguments: bean-jar, jdbc-url, user, passwd
* (v) Show count of items
* (v) Navigation Links have Problems
* (v) show logging
* (v) visible icons read by page
* (v) Button-Panel for
* (v) Use Xml-Configuration for BeanDefinitions
** (v) Print
** (v) Export
** (v) select all
** (v) deselect all
* (v) Use Environment
* (v) *Extend BeanContainer:*
** (-) new action: 'getValueBetween()'
** (v) extend all finders with start index (see maxresult) to have a result range
** (v) beancollector with next() and previous() data (using 'start' index and 'maxresult')
* (x) Application Menu: reset (--> caches, environment, navigation), restart, login, logout
* (x) default attribute names without @id field
* (x) Nesting Beans
* (x) Bean with Layout
* Right-Alignments for Numbers
* Problem on NanoHttp canceling button panel (sometimes)
* Check for single selection
* Check navigation (check input on button action like 'open' without selecting an item.
* Styling (Collector, Details)
* Show Progress-Page (using Statistics)
* *Html-Table:*
** (v) Sorting-Header
** (v) Previous, Next
** Style (of sorting header etc.)
** up, down (for sorting values)
* (v) If search result is only one element, select it
* *Searches on big data:*
** first count data
** (v) button to show one-to-many in table
** use thread to be interupted
* (x) internal export and view (replacing ant-like variables and showing the document)
* generate const class from property file
* create xsd in through CommonTest with trang.jar
* (x) add configuration action (html-tool to edit xml files)
** ConfigBeanContainer to configure BeanDefinition for special beans
* *Nice-To-Have*
** eval validation annotations
** BeanPresenterHelper: test OptionsWrapper
** min-search-field + button ==> max-search-field visible. standard: filtering with astericks
* *Refactoring:*
** (v) RegularExpressionFormat ==> RegExpFormat
** refactore ScriptUtil: extract Ant calls
** util.bean ==> bean
** nano.h5 ==> fullrelation
** extract bean-package as project
** refactore environment property names to use logic path-algorithm
** (x) file-access: use Environment.getResource() reading through jar or file system
** extract api
* *Interfaces:*
** java-interface-jar filled with BeanProxy to be used as mocks
** reading xsd through dom - creating beandefinitions (as xml)
** BeanEnhancer enhancing Beans having only attributes with getters/setters
* *Replication / Offline*
** FileBeanContainer serializing all lists of all BeanCollectors
** GenericBeanContainer using filled FileBeanContainer re-attaching all serialized bean lists
* Validate against Html5-xsd in debug mode
* include LogicTable?
* check starting application multiple times
* (x) on multiple selection, put all selected elements to the stack
* *Problem: creating a new element, copying an existing one, one-to-many connections will be lost*
** depends on the datamodel: gruppe --> grupperolle(only for specific gruppe) --> rolle
*** The new item has to be put to the list of it's parent container. This list has to be saved before the new item!
*** The beancollector now holds a 
* *Problem: Filtering on Entities doesn't work (findBetween is not able to do a between for 'entity-columns')*
* *Problem: Filtering BeanCollectors of Entities doesn't work after sorting twice*
* internationalization: english RegExpFormat, messages.properties
